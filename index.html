<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Nail Luxury Spa - Chuỗi salon sang trọng, chuyên nghiệp. Đặt lịch làm đẹp, nail, spa, chăm sóc tóc với ưu đãi hấp dẫn." />
  <meta name="theme-color" content="#000000" />
  <title>Nail Luxury Spa</title>
  <meta property="og:title" content="Nail Luxury Spa" />
  <meta property="og:description" content="Chuỗi salon sang trọng & chuyên nghiệp. Đặt lịch ngay!" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="logo.png" />
  <meta property="og:locale" content="vi_VN" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.3.0/flickity.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --gold-gradient: linear-gradient(90deg, #d4af37, #ffd700, #d4af37); /* vàng ánh kim */
      --bg-dark: #111;
      --bg-light: #1a1a1a;
      --text-light: #f5f5f5;
      --text-muted: #bbb;
    }
    body {
      font-family: Montserrat, sans-serif;
      margin: 0;
      background: var(--bg-dark);
      color: var(--text-light);
      line-height: 1.6;
    }
    .container {max-width:1170px;margin:0 auto;padding:0 16px}
    h2 {
      font-size:1.8rem;
      margin:0 0 16px;
      background: var(--gold-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    h1 {
      background: var(--gold-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    p {margin:0 0 12px;color:var(--text-muted)}
    a {text-decoration:none}
    .btn {
      display:inline-block;
      background: var(--gold-gradient);
      color:#111;
      padding:10px 22px;
      border-radius:30px;
      font-weight:600;
      text-decoration:none;
      transition:.3s;
    }
    .btn:hover {
      filter: brightness(1.2);
      transform: scale(1.05);
    }
    header {
      background:#000;
      position:sticky;top:0;z-index:100;
      box-shadow:0 2px 6px rgba(0,0,0,.6);
    }
    .header-inner {
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 0;
    }
    nav ul {list-style:none;margin:0;padding:0;display:flex;gap:20px}
    nav a {color:var(--text-light);font-weight:500;transition:.2s}
    nav a:hover {
      background: var(--gold-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    /* Hero slider */
    .carousel .carousel-cell{width:100%;height:70vh;position:relative}
    .carousel-cell img{width:100%;height:100%;object-fit:cover;filter:brightness(.75)}
    .hero-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;max-width:90%}
    .hero-content h1{font-size:2.2rem;margin-bottom:10px}
    section{padding:60px 0}
    .grid{display:grid;gap:20px}
    .grid-2{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
    .grid-3{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
    .card{
      background:var(--bg-light);
      padding:20px;
      border-radius:12px;
      box-shadow:0 3px 10px rgba(0,0,0,.6);
      transition:.2s;
    }
    .card h3 {
      background: var(--gold-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .card:hover{transform:translateY(-4px)}
    .price{
      font-size:1.2rem;font-weight:700;
      background: var(--gold-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    footer{
      background:#000;
      border-top:2px solid #d4af37;
      padding:40px 0 20px;
      color:var(--text-light);
    }
    .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}
    .footer-bottom{text-align:center;margin-top:20px;color:#777;font-size:.9rem}
    .gallery img{
      width:100%;border-radius:12px;display:block;
      aspect-ratio: 1 / 1;
      height:auto;
      object-fit:cover;
      transition: transform .3s, box-shadow .3s;
      cursor: pointer;
    }
    /* Lightbox */
    .lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.8);z-index:1000;padding:20px}
    .lightbox.open{display:flex}
    .lightbox img{max-width:90vw;max-height:85vh;border-radius:12px;box-shadow:0 20px 50px rgba(0,0,0,.6)}
    .lightbox .close{position:absolute;top:16px;right:16px;background:transparent;border:none;color:#fff;font-size:28px;cursor:pointer}
    .lightbox .backdrop{position:absolute;inset:0}
    .testimonial{
      background:#1f1f1f;
      padding:20px;
      border-left:4px solid #d4af37;
      border-radius:8px;
    }
    .testimonial p{font-style:italic}
    @media(max-width:800px){
      nav ul{display:none}
      .hero-content h1{font-size:1.6rem}
    }
    html { scroll-behavior:smooth }
    .section-title{display:flex;align-items:center;gap:12px;margin-bottom:24px}
    .section-title::before{content:"";display:block;width:28px;height:2px;background:#d4af37}
    .section-sub{color:var(--text-muted);margin-top:-6px;margin-bottom:18px}
    .divider{height:1px;background:rgba(255,255,255,.06);margin:30px 0}
    .btn:focus{outline:2px solid #ffd700;outline-offset:2px}
    input,button{font-family:inherit}
    input::placeholder{color:#777}
    
    /* Enhanced Booking Form Styles */
    .booking-form {
      background: var(--bg-light);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-width: 600px;
      margin: 0 auto;
    }
    
    .form-group {
      margin-bottom: 25px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-light);
    }
    
    .required {
      color: #ff4757;
    }
    
    .form-control {
      width: 100%;
      padding: 15px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-light);
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
    }
    
    .form-control:focus {
      outline: none;
      border-color: #d4af37;
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
    }
    
    .form-control.error {
      border-color: #ff4757;
      box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.1);
    }
    
    .form-control.success {
      border-color: #2ed573;
      box-shadow: 0 0 0 3px rgba(46, 213, 115, 0.1);
    }
    
    textarea.form-control {
      resize: vertical;
      min-height: 120px;
    }
    
    .error-message {
      color: #ff4757;
      font-size: 14px;
      margin-top: 5px;
      display: none;
    }
    
    .btn {
      display: inline-block;
      background: var(--gold-gradient);
      color: #111;
      border: none;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      font-family: inherit;
    }
    
    .btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
    }
    
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    
    .loading {
      display: none;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(17, 17, 17, 0.3);
      border-top: 2px solid #111;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .alert {
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      display: none;
    }
    
    .alert.success {
      background: rgba(46, 213, 115, 0.1);
      border: 1px solid #2ed573;
      color: #2ed573;
    }
    
    .alert.error {
      background: rgba(255, 71, 87, 0.1);
      border: 1px solid #ff4757;
      color: #ff4757;
    }
  </style>
  <style>
    .spacious section{padding:72px 0}
    .card{border:1px solid rgba(255,255,255,.06)}
  </style>
</head>
<body>
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-hidden="true">
    <div class="backdrop" data-close></div>
    <button class="close" aria-label="Đóng" data-close>&times;</button>
    <img id="lightboxImage" alt="Xem ảnh lớn" />
  </div>
  <a href="#top" id="top" aria-hidden="true"></a>
  <!-- Header -->
  <header>
    <div class="container header-inner">
      <a href="#"><img src="logo.png" alt="Nail Luxury Spa logo" loading="lazy" style="height:56px"></a>
      <nav>
        <ul>
          <li><a href="#about">Giới thiệu</a></li>
          <li><a href="#services">Dịch vụ</a></li>
          <li><a href="#pricing">Bảng giá</a></li>
          <li><a href="#feedback">Feedback</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#blog">Tin tức</a></li>
          <li><a href="#booking">Đặt lịch</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero Slider -->
  <div class="carousel" data-flickity='{"wrapAround": true, "autoPlay": 4000, "pageDots": true}'>
    <div class="carousel-cell">
      <img src="001.jpg" alt="Không gian spa sang trọng" loading="eager" fetchpriority="high">
      <div class="hero-content">
        <h1>Nail Luxury Spa</h1>
        <a class="btn" href="#booking">Đặt lịch ngay</a>
      </div>
    </div>
    <div class="carousel-cell">
      <img src="002.jpg" alt="Hệ thống chi nhánh toàn quốc" loading="lazy">
      <div class="hero-content"><h1>Hệ thống chi nhánh toàn quốc</h1></div>
    </div>
    <div class="carousel-cell">
      <img src="003.jpg" alt="Dịch vụ chuyên nghiệp" loading="lazy">
      <div class="hero-content"><h1>Sang trọng & chuyên nghiệp</h1></div>
    </div>
      <div class="carousel-cell">
      <img src="004.jpg" alt="Dịch vụ chuyên nghiệp" loading="lazy">
      <div class="hero-content"><h1>Luôn trung thực</h1></div>
    </div>
      <div class="carousel-cell">
      <img src="005.jpg" alt="Dịch vụ chuyên nghiệp" loading="lazy">
      <div class="hero-content"><h1>Hết mình vì khách hàng</h1></div>
    </div>
  </div>

  <!-- About -->
  <section id="about" class="spacious">
    <div class="container grid grid-2">
      <div>
        <div class="section-title"><h2 style="margin:0">Nail Luxury Spa</h2></div>
        <p>Chuỗi salon làm đẹp hàng đầu với đội ngũ chuyên viên chuyên nghiệp, tận tâm.</p>
        <p>Trải nghiệm thư giãn, dịch vụ cao cấp và phong cách hiện đại cho mọi khách hàng.</p>
        <p>Chuỗi salon làm đẹp hàng đầu, nơi vẻ đẹp và sự tự tin của bạn được tôn vinh.</p>
        <p>Với đội ngũ chuyên viên tay nghề cao – tận tâm – thân thiện, chúng tôi mang đến cho bạn những trải nghiệm khác biệt.</p>
        <p>Không gian hiện đại, thư giãn như spa, kết hợp dịch vụ chăm sóc tóc, móng, da chuẩn quốc tế.</p>
        <p>Cam kết sản phẩm chính hãng, quy trình an toàn và phong cách phục vụ chuyên nghiệp.</p>
        <p>Đến với chúng tôi, bạn không chỉ làm đẹp, mà còn tận hưởng từng phút giây thư giãn trọn vẹn.</p>
        <a href="#services" class="btn">Khám phá dịch vụ</a>
      </div>
      <div><img src="logo.png" alt="Logo Nail Luxury Spa" loading="lazy" style="width:100%;border-radius:12px;background:#fff;padding:20px"></div>
    </div>
  </section>

  <!-- Services -->
  <section id="services" class="spacious" style="background:#1a1a1a">
    <div class="container">
      <div class="section-title"><h2 style="margin:0">Dịch vụ nổi bật</h2></div>
      <div class="grid grid-3">
        <div class="card"><h3>Làm nail</h3><p>Thiết kế nail nghệ thuật, gel, sơn dưỡng.</p></div>
        <div class="card"><h3>Spa thư giãn</h3><p>Massage, chăm sóc da chuyên sâu.</p></div>
        <div class="card"><h3>Chăm sóc tóc</h3><p>Uốn, nhuộm, phục hồi tóc.</p></div>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" class="spacious">
    <div class="container">
      <div class="section-title"><h2 style="margin:0">Bảng giá</h2></div>
      <div class="grid grid-3">
        <div class="card"><h3>Combo Nail</h3><p class="price">350.000đ</p><p>Gồm cắt, dưỡng, sơn gel.</p></div>
        <div class="card"><h3>Massage toàn thân</h3><p class="price">500.000đ</p><p>Liệu trình 60 phút thư giãn.</p></div>
        <div class="card"><h3>Gội đầu dưỡng sinh</h3><p class="price">250.000đ</p><p>Kèm xoa bóp vai gáy.</p></div>
      </div>
    </div>
  </section>

  <!-- Feedback -->
  <section id="feedback" class="spacious" style="background:#1a1a1a">
    <div class="container">
      <div class="section-title"><h2 style="margin:0">Khách hàng nói gì</h2></div>
      <div class="grid grid-2">
        <div class="testimonial"><p>“Không gian sang trọng, dịch vụ tuyệt vời. Tôi sẽ quay lại nhiều lần nữa.”</p><strong>- Chị Mai, Q1</strong></div>
        <div class="testimonial"><p>“Làm nail ở đây rất đẹp và bền. Nhân viên thân thiện, chuyên nghiệp.”</p><strong>- Hằng, Q5</strong></div>
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section id="Nail model" class="spacious">
    <div class="container">
      <div class="section-title"><h2 style="margin:0">Nail model</h2></div>
      <div class="grid grid-3 gallery">
        <img src="image3.jpg" alt="Mẫu nail 1" loading="lazy">
        <img src="image4.jpg" alt="Mẫu nail 2" loading="lazy">
        <img src="123.jpg" alt="Mẫu nail 3" loading="lazy">
        <img src="127.jpg" alt="Mẫu nail 4" loading="lazy">
        <img src="image1.jpg" alt="Mẫu nail 5" loading="lazy">
        <img src="131.jpg" alt="Mẫu nail 6" loading="lazy">
        <img src="126.jpg" alt="Mẫu nail 6" loading="lazy">
        <img src="125.jpg" alt="Mẫu nail 6" loading="lazy">
      </div>
    </div>
  </section>
  <!-- Gallery -->
  <section id="Toenail model" class="spacious">
    <div class="container">
      <div class="section-title"><h2 style="margin:0">Toenail model</h2></div>
      <div class="grid grid-3 gallery">
        <img src="image3.jpg" alt="Mẫu nail 1" loading="lazy">
        <img src="image4.jpg" alt="Mẫu nail 2" loading="lazy">
        <img src="123.jpg" alt="Mẫu nail 3" loading="lazy">
        <img src="127.jpg" alt="Mẫu nail 4" loading="lazy">
        <img src="image1.jpg" alt="Mẫu nail 5" loading="lazy">
        <img src="131.jpg" alt="Mẫu nail 6" loading="lazy">
        <img src="126.jpg" alt="Mẫu nail 6" loading="lazy">
        <img src="125.jpg" alt="Mẫu nail 6" loading="lazy">
      </div>
    </div>
  </section>

  <!-- Blog -->
  <section id="blog" class="spacious" style="background:#1a1a1a">
    <div class="container">
      <div class="section-title"><h2 style="margin:0">Tin tức & Ưu đãi</h2></div>
      <div class="grid grid-3">
        <div class="card"><h3>Ưu đãi tháng 10</h3><p>Giảm 20% cho khách hàng mới.</p></div>
        <div class="card"><h3>Tips chăm sóc da</h3><p>5 bước đơn giản tại nhà.</p></div>
        <div class="card"><h3>Xu hướng nail 2025</h3><p>Màu sắc hot nhất mùa thu.</p></div>
      </div>
    </div>
  </section>

<!-- Booking -->
<section id="booking" class="spacious">
<div class="time-display">
  <label for="currentDate">🕒 Thời gian gửi:</label>
<input type="hidden" id="form_date" name="form_date">
</div>
    <div class="section-title"><h2 style="margin:0">Đặt lịch ngay</h2></div>
    <p style="text-align: center; color: var(--text-muted); margin-bottom: 30px;">Điền thông tin để chúng tôi có thể liên hệ và tư vấn dịch vụ phù hợp</p>
    
    <div class="alert success" id="successAlert">
      <i class="fas fa-check-circle"></i>
      <span id="successMessage">Đặt lịch thành công! Chúng tôi sẽ liên hệ lại với bạn sớm nhất.</span>
    </div>
    
    <div class="alert error" id="errorAlert">
      <i class="fas fa-exclamation-circle"></i>
      <span id="errorMessage">Có lỗi xảy ra. Vui lòng thử lại sau.</span>
    </div>
    
    <form class="booking-form" id="bookingForm">
      <div class="form-group">
        <label for="fullName">
          Họ và tên <span class="required">*</span>
        </label>
        <input 
          type="text" 
          id="fullName" 
          name="fullName" 
          class="form-control" 
          placeholder="Nhập họ và tên đầy đủ"
          required
        >
        <div class="error-message" id="fullNameError"></div>
      </div>
      
      <div class="form-group">
        <label for="phone">
          Số điện thoại <span class="required">*</span>
        </label>
        <input 
          type="tel" 
          id="phone" 
          name="phone" 
          class="form-control" 
          placeholder="Nhập số điện thoại"
          required
        >
        <div class="error-message" id="phoneError"></div>
      </div>
      
      <div class="form-group">
        <label for="email">
          Email <span class="required">*</span>
        </label>
        <input 
          type="email" 
          id="email" 
          name="email" 
          class="form-control" 
          placeholder="Nhập địa chỉ email"
          required
        >
        <div class="error-message" id="emailError"></div>
      </div>
      
      <div class="form-group">
        <label for="notes">
          Ghi chú <span style="color: var(--text-muted); font-size: 14px;">(Không bắt buộc)</span>
        </label>
        <textarea 
          id="notes" 
          name="notes" 
          class="form-control" 
          placeholder="Mô tả dịch vụ bạn quan tâm, thời gian mong muốn, hoặc yêu cầu đặc biệt..."
        ></textarea>
      </div>
      
      <input type="hidden" name="date" id="currentDate">
<button type="submit" class="btn" id="submitBtn">
  <span class="btn-text">Đặt lịch ngay</span>
  <span class="loading">
    <div class="spinner"></div>
    Đang gửi...
  </span>
</button>
    </form>
  </div>
</section>

  <!-- Footer -->
  <footer>
    <div class="container footer-grid">
      <div>
        <img src="logonail.png" style="height:56px;background:#fff;padding:6px;border-radius:6px" alt="Logo">
        <p>Nail Luxury Spa - Hệ thống chi nhánh toàn quốc</p>
      </div>
      <div>
        <h4 style="color:#d4af37">Liên hệ</h4>
        <p>Hotline: 0909 888 999</p>
        <p>Email: contact@nailspa.vn</p>
      </div>
      <div>
        <h4 style="color:#d4af37">Theo dõi</h4>
        <p><i class="fab fa-facebook"></i> Facebook</p>
        <p><i class="fab fa-instagram"></i> Instagram</p>
      </div>
    </div>
    <div class="footer-bottom">© 2025 Nail Luxury Spa. All rights reserved.</div>
  </footer>

  <button id="backToTop" aria-label="Lên đầu trang" style="position:fixed;right:16px;bottom:16px;border:none;border-radius:50%;width:44px;height:44px;background:var(--gold-gradient);color:#111;cursor:pointer;box-shadow:0 6px 16px rgba(212,175,55,.5);display:none">
    <i class="fa fa-arrow-up"></i>
  </button>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.3.0/flickity.pkgd.min.js"></script>
  <script>
    const topBtn = document.getElementById('backToTop');
    window.addEventListener('scroll',()=>{
      topBtn.style.display = window.scrollY > 400 ? 'block' : 'none';
    });
    topBtn.addEventListener('click',()=>{ window.scrollTo({top:0,behavior:'smooth'}) });
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',e=>{
        const id=a.getAttribute('href');
        if(id && id.length>1){
          const el=document.querySelector(id);
          if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth'}) }
        }
      })
    })
    // Lightbox logic
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImage');
    function openLB(src, alt){
      lbImg.src = src; lbImg.alt = alt || 'Xem ảnh lớn';
      lb.classList.add('open');
      lb.setAttribute('aria-hidden','false');
    }
    function closeLB(){
      lb.classList.remove('open');
      lb.setAttribute('aria-hidden','true');
      lbImg.src = '';
    }
    document.querySelectorAll('#gallery .gallery img').forEach(img=>{
      img.addEventListener('click',()=> openLB(img.src, img.alt));
    });
    lb.addEventListener('click', (e)=>{ if(e.target.hasAttribute('data-close')) closeLB(); });
    window.addEventListener('keydown',(e)=>{ if(e.key==='Escape') closeLB(); });
  </script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script type="text/javascript">
  (function() {
      // Chỉ dùng Public Key
      emailjs.init("dHWGFDgEyWY5g6Zau");  
  })();

  class BookingForm {
      constructor() {
          this.form = document.getElementById('bookingForm');
          this.submitBtn = document.getElementById('submitBtn');
          this.btnText = document.querySelector('.btn-text');
          this.loading = document.querySelector('.loading');
          this.successAlert = document.getElementById('successAlert');
          this.errorAlert = document.getElementById('errorAlert');
          
          // Kiểm tra EmailJS
          this.checkEmailJS();
          this.init();
      }
      
      checkEmailJS() {
          if (typeof emailjs === 'undefined') {
              console.error('❌ EmailJS chưa được load');
              this.showError('EmailJS chưa được tải. Vui lòng kiểm tra kết nối mạng.');
              return false;
          }
          console.log('✅ EmailJS đã sẵn sàng');
          return true;
      }
      
      init() {
          this.form.addEventListener('submit', (e) => this.handleSubmit(e));
          this.setupValidation();
      }
      
      setupValidation() {
          // Real-time validation
          document.getElementById('fullName').addEventListener('blur', () => this.validateFullName());
          document.getElementById('phone').addEventListener('blur', () => this.validatePhone());
          document.getElementById('email').addEventListener('blur', () => this.validateEmail());
      }
      
      validateFullName() {
          const field = document.getElementById('fullName');
          const error = document.getElementById('fullNameError');
          const value = field.value.trim();
          
          if (!value) {
              this.showFieldError(field, error, 'Vui lòng nhập họ và tên');
              return false;
          }
          
          if (value.length < 2) {
              this.showFieldError(field, error, 'Họ tên phải có ít nhất 2 ký tự');
              return false;
          }
          
          this.showFieldSuccess(field, error);
          return true;
      }
      
      validatePhone() {
          const field = document.getElementById('phone');
          const error = document.getElementById('phoneError');
          const value = field.value.trim();
          const phoneRegex = /^0[3|5|7|8|9][0-9]{8}$/;
          
          if (!value) {
              this.showFieldError(field, error, 'Vui lòng nhập số điện thoại');
              return false;
          }
          
          if (!phoneRegex.test(value)) {
              console.log('❌ Phone validation failed:', value, 'Regex:', phoneRegex);
              this.showFieldError(field, error, 'Số điện thoại không hợp lệ (VD: 0901234567)');
              return false;
          }
          
          this.showFieldSuccess(field, error);
          return true;
      }
      
      validateEmail() {
          const field = document.getElementById('email');
          const error = document.getElementById('emailError');
          const value = field.value.trim();
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          
          if (!value) {
              this.showFieldError(field, error, 'Vui lòng nhập email');
              return false;
          }
          
          if (!emailRegex.test(value)) {
              this.showFieldError(field, error, 'Email không hợp lệ');
              return false;
          }
          
          this.showFieldSuccess(field, error);
          return true;
      }
      
      showFieldError(field, errorElement, message) {
          field.classList.remove('success');
          field.classList.add('error');
          errorElement.textContent = message;
          errorElement.style.display = 'block';
      }
      
      showFieldSuccess(field, errorElement) {
          field.classList.remove('error');
          field.classList.add('success');
          errorElement.style.display = 'none';
      }
      
      hideAlerts() {
          this.successAlert.style.display = 'none';
          this.errorAlert.style.display = 'none';
      }
      
      showSuccess(message) {
          this.hideAlerts();
          document.getElementById('successMessage').textContent = message;
          this.successAlert.style.display = 'flex';
          this.successAlert.scrollIntoView({ behavior: 'smooth' });
      }
      
      showError(message) {
          this.hideAlerts();
          document.getElementById('errorMessage').textContent = message;
          this.errorAlert.style.display = 'flex';
          this.errorAlert.scrollIntoView({ behavior: 'smooth' });
      }
      
      setLoading(loading) {
          this.submitBtn.disabled = loading;
          this.btnText.style.display = loading ? 'none' : 'inline';
          this.loading.style.display = loading ? 'flex' : 'none';
      }
      
      async handleSubmit(e) {
          e.preventDefault();
          
          // Validate all fields
          const isFullNameValid = this.validateFullName();
          const isPhoneValid = this.validatePhone();
          const isEmailValid = this.validateEmail();
          
          console.log('🔍 Validation results:', {
              fullName: isFullNameValid,
              phone: isPhoneValid, 
              email: isEmailValid
          });
          
          if (!isFullNameValid || !isPhoneValid || !isEmailValid) {
              this.showError('Vui lòng kiểm tra lại thông tin đã nhập');
              return;
          }
          
          this.setLoading(true);
          this.hideAlerts();
          
          try {
              // Kiểm tra EmailJS trước khi gửi
              if (!this.checkEmailJS()) {
                  this.showError('EmailJS chưa sẵn sàng. Vui lòng tải lại trang.');
                  return;
              }
              
              console.log('📧 Đang gửi email...');
              
              // Send via EmailJS
              document.getElementById('form_date').value = new Date().toLocaleString();
              
              const result = await emailjs.sendForm(
                  "service_80jx7hn",     // Service ID
                  "template_fuk0b5o",     // Template ID - CẦN SỬA
                  this.form
              );
              
              console.log('✅ Email đã gửi thành công:', result);
              this.showSuccess('Đặt lịch thành công! Chúng tôi sẽ liên hệ lại với bạn trong vòng 24h.');
              this.form.reset();
              // Reset field states
              document.querySelectorAll('.form-control').forEach(field => {
                  field.classList.remove('success', 'error');
              });
              
          } catch (error) {
              console.error('❌ Lỗi gửi email:', error);
              
              // Hiển thị lỗi chi tiết hơn
              let errorMessage = 'Có lỗi xảy ra khi gửi yêu cầu.';
              
              if (error.status === 400) {
                  errorMessage = 'Thông tin không hợp lệ. Vui lòng kiểm tra lại.';
              } else if (error.status === 401) {
                  errorMessage = 'Lỗi xác thực EmailJS. Vui lòng liên hệ admin.';
              } else if (error.status === 403) {
                  errorMessage = 'Không có quyền gửi email. Vui lòng liên hệ admin.';
              } else if (error.status === 404) {
                  errorMessage = 'Không tìm thấy service EmailJS. Vui lòng liên hệ admin.';
              } else if (error.status >= 500) {
                  errorMessage = 'Lỗi server EmailJS. Vui lòng thử lại sau.';
              }
              
              this.showError(errorMessage);
          } finally {
              this.setLoading(false);
          }
      }
  }
  
  // Initialize the booking form
  document.addEventListener('DOMContentLoaded', () => {
      new BookingForm();
  });
</script>
</body>
</html>
